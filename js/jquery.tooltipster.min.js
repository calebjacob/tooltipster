//Tooltipster 1.2 | 9/15/12 | by Caleb Jacob
var tooltipster;tooltipster={animateOut:function(a,c,b){c=typeof c!=="undefined"?c:"fade";b=typeof b!=="undefined"?b:100;if(c=="slide"){$(a).slideUp(b,function(){$(a).remove();$("body").css("overflow-x","auto")})}else{$(a).fadeOut(b,function(){$(a).remove();$("body").css("overflow-x","auto")})}}};(function(a){a.fn.tooltipster=function(c){var d=a.extend({animation:"fade",arrow:true,arrowColor:"",delay:200,fixedWidth:0,followMouse:false,offsetX:0,offsetY:0,overrideText:"",position:"top",speed:100,timer:0,tooltipTheme:".tooltip-message",alwaysVisible:false},c);function b(o){if(a(d.tooltipTheme).not(".tooltip-kill").length==1){if(d.alwaysVisible===false){tooltipster.animateOut(a(d.tooltipTheme,d.animation,d.speed).not(".tooltip-kill"))}a(d.tooltipTheme).not(".tooltip-kill").addClass("tooltip-kill")}a("body").css("overflow-x","hidden");var g=o.attr("title");o.attr("title","");o.data("title",g);if(a.trim(d.overrideText).length>0){var g=d.overrideText}if(d.fixedWidth>0){var w=' style="width:'+d.fixedWidth+'px;"'}else{var w=""}a('<div class="'+d.tooltipTheme.replace(".","")+'"'+w+'><div class="tooltip-message-content">'+g+"</div></div>").appendTo("body").hide();if(d.followMouse==false){var i=a(window).width();var n=o.outerWidth(false);var p=o.outerHeight(false);var x=a(d.tooltipTheme).not(".tooltip-kill").outerWidth(false);var r=a(d.tooltipTheme).not(".tooltip-kill").outerHeight(false);var m=o.offset();if(d.fixedWidth==0){a(d.tooltipTheme).not(".tooltip-kill").css({width:x+"px","padding-left":"0px","padding-right":"0px"})}function A(){var C=a(window).scrollLeft();if((j-C)<0){var B=j-C;j=C;a(d.tooltipTheme).not(".tooltip-kill").data("arrow-reposition",B)}if(((j+x)-C)>i){var B=j-((i+C)-x);j=(i+C)-x;a(d.tooltipTheme).not(".tooltip-kill").data("arrow-reposition",B)}}if(d.position=="top"){var l=(m.left+x)-(m.left+o.outerWidth(false));var j=(m.left+d.offsetX)-(l/2);var v=(m.top-r)-d.offsetY-10;A();if((m.top-r-d.offsetY-11)<0){var v=0}}if(d.position=="top-left"){var j=m.left+d.offsetX;var v=(m.top-r)-d.offsetY-10;A()}if(d.position=="top-right"){var j=(m.left+n+d.offsetX)-x;var v=(m.top-r)-d.offsetY-10;A()}if(d.position=="bottom"){var l=(m.left+x+d.offsetX)-(m.left+o.outerWidth(false));var j=m.left-(l/2);var v=(m.top+p)+d.offsetY+10;A()}if(d.position=="bottom-left"){var j=m.left+d.offsetX;var v=(m.top+p)+d.offsetY+10;A()}if(d.position=="bottom-right"){var j=(m.left+n+d.offsetX)-x;var v=(m.top+p)+d.offsetY+10;A()}if(d.position=="left"){var j=m.left-d.offsetX-x-10;var e=m.left+d.offsetX+n+10;var y=(m.top+r+d.offsetY)-(m.top+o.outerHeight(false));var v=m.top-(y/2);if((j<0)&&((e+x)>i)){j=j+x}if(j<0){var j=m.left+d.offsetX+n+10;a(d.tooltipTheme).not(".tooltip-kill").data("arrow-reposition","left")}}if(d.position=="right"){var j=m.left+d.offsetX+n+10;var e=m.left-d.offsetX-x-10;var y=(m.top+r+d.offsetY)-(m.top+o.outerHeight(false));var v=m.top-(y/2);if(((j+x)>i)&&(e<0)){j=i-x}if((j+x)>i){j=m.left-d.offsetX-x-10;a(d.tooltipTheme).not(".tooltip-kill").data("arrow-reposition","right")}}}if(d.followMouse==true){var x=a(d.tooltipTheme).not(".tooltip-kill").outerWidth(false);var r=a(d.tooltipTheme).not(".tooltip-kill").outerHeight(false);var q=a(d.tooltipTheme).not(".tooltip-kill").find(".tooltip-message-content").html();o.mousemove(function(B){a(d.tooltipTheme).not(".tooltip-kill").find(".tooltip-message-content").html("").html(q);var C=a(d.tooltipTheme).not(".tooltip-kill").outerHeight(false);if(d.position=="top"){a(d.tooltipTheme).not(".tooltip-kill").css({left:((B.pageX-1)-(x/2)+d.offsetX)+"px",top:((B.pageY-C-2)-d.offsetY-10)+"px"})}if(d.position=="top-right"){a(d.tooltipTheme).not(".tooltip-kill").css({left:B.pageX-8+d.offsetX+"px",top:((B.pageY-C-2)-d.offsetY-10)+"px"})}if(d.position=="top-left"){a(d.tooltipTheme).not(".tooltip-kill").css({left:(B.pageX-x+d.offsetX)+7+"px",top:((B.pageY-C-2)-d.offsetY-10)+"px"})}if(d.position=="bottom"){a(d.tooltipTheme).not(".tooltip-kill").css({left:(B.pageX-(x/2)+d.offsetX-1)+"px",top:(B.pageY+15+d.offsetY+10)+"px"})}if(d.position=="bottom-right"){a(d.tooltipTheme).not(".tooltip-kill").css({left:B.pageX-2+d.offsetX+"px",top:(B.pageY+15+d.offsetY+10)+"px"})}if(d.position=="bottom-left"){a(d.tooltipTheme).not(".tooltip-kill").css({left:(B.pageX-x+d.offsetX)+12+"px",top:(B.pageY+15+d.offsetY+10)+"px"})}})}if(d.arrow==true){var f="tooltip-arrow-"+d.position;if(d.followMouse==true){if(f.search("right")>0){var z=f;f=z.replace("right","left")}else{var z=f;f=z.replace("left","right")}}if(f=="tooltip-arrow-right"){var t="◀";var u="top:"+((r/2)-5)+"px"}if(f=="tooltip-arrow-left"){var t="▶";var u="top:"+((r/2)-4)+"px"}if(f.search("top")>0){var t="▼"}if(f.search("bottom")>0){var t="▲"}if(d.arrowColor.length<1){var k=a(d.tooltipTheme).not(".tooltip-kill").css("background-color")}else{var k=d.arrowColor}var s=a(d.tooltipTheme).not(".tooltip-kill").data("arrow-reposition");if(!s){s=""}else{if(s=="left"){f="tooltip-arrow-right";t="◀";s=""}else{if(s=="right"){f="tooltip-arrow-left";t="▶";s=""}else{s="left:"+s+"px;"}}}var h='<div class="'+f+' tooltip-arrow" style="color:'+k+"; width:"+x+"px; display:none; "+s+" "+u+'">'+t+"</div>"}else{var h=""}a(d.tooltipTheme).not(".tooltip-kill").css({top:v+"px",left:j+"px"}).append(h);if(d.animation=="slide"){a(d.tooltipTheme).not(".tooltip-kill").delay(d.delay).slideDown(d.speed,function(){a(".tooltip-arrow").fadeIn(d.speed)});if(d.timer>0){a(d.tooltipTheme).not(".tooltip-kill").delay(d.timer).slideUp(d.speed)}}else{a(".tooltip-arrow").show();a(d.tooltipTheme).not(".tooltip-kill").delay(d.delay).fadeIn(d.speed);if(d.timer>0){a(d.tooltipTheme).not(".tooltip-kill").delay(d.timer).fadeOut(d.speed)}}}if(d.alwaysVisible){return b(this)}else{return this.hover(function(){b(a(this))},function(){a(d.tooltipTheme).not(".tooltip-kill").clearQueue();tooltip_text=a(this).data("title");a(this).attr("title",tooltip_text);a(d.tooltipTheme).addClass("tooltip-kill");tooltipster.animateOut(".tooltip-kill",d.animation,d.speed)})}}})(jQuery);